System.register([],(function(t,e){"use strict";return{execute:function(){var n=document.createElement("style");n.textContent='html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}:focus{outline:0}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none}input[type=search]{-webkit-appearance:none;-moz-appearance:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}textarea{overflow:auto;vertical-align:top;resize:vertical}audio,canvas,video{display:inline-block;*display: inline; *zoom: 1; max-width: 100%;{}}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted}a:active,a:hover{outline:0}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}form{margin:0}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left: -7px;{}}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align: middle;{}}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer;*overflow: visible;{}}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height: 13px; *width: 13px;{}}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}html,button,input,select,textarea{color:#222}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}img{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.chromeframe{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}\n',document.head.appendChild(n);const r=function(t,e,n){return t()};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o,s={exports:{}},a="object"==typeof Reflect?Reflect:null,c=a&&"function"==typeof a.apply?a.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};o=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function(t){return t!=t};function f(){f.init.call(this)}s.exports=f,s.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}w(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&w(t,"error",e,n)}(t,i,{once:!0})}))},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var l=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function d(t){return void 0===t._maxListeners?f.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var i,o,s,a;if(h(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=d(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=v.bind(r);return i.listener=n,r.wrapFn=i,i}function y(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function b(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function w(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},f.prototype.getMaxListeners=function(){return d(this)},f.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)c(a,this,e);else{var u=a.length,f=m(a,u);for(n=0;n<u;++n)c(f[n],this,e)}return!0},f.prototype.addListener=function(t,e){return p(this,t,e,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(t,e){return p(this,t,e,!0)},f.prototype.once=function(t,e){return h(e),this.on(t,g(this,t,e)),this},f.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,g(this,t,e)),this},f.prototype.removeListener=function(t,e){var n,r,i,o,s;if(h(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},f.prototype.listeners=function(t){return y(this,t,!0)},f.prototype.rawListeners=function(t){return y(this,t,!1)},f.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},f.prototype.listenerCount=b,f.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};var j=s.exports;const _=i(j),$="object"==typeof global&&global&&global.Object===Object&&global;var O="object"==typeof self&&self&&self.Object===Object&&self;const S=$||O||Function("return this")(),M=S.Symbol;var x=Object.prototype,D=x.hasOwnProperty,E=x.toString,A=M?M.toStringTag:void 0,C=Object.prototype.toString,L=M?M.toStringTag:void 0;function T(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":L&&L in Object(t)?function(t){var e=D.call(t,A),n=t[A];try{t[A]=void 0;var r=!0}catch(o){}var i=E.call(t);return r&&(e?t[A]=n:delete t[A]),i}(t):function(t){return C.call(t)}(t)}function k(t){return null!=t&&"object"==typeof t}function z(t){return"symbol"==typeof t||k(t)&&"[object Symbol]"==T(t)}function I(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}const P=Array.isArray;var U=M?M.prototype:void 0,F=U?U.toString:void 0;function N(t){if("string"==typeof t)return t;if(P(t))return I(t,N)+"";if(z(t))return F?F.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function W(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function q(t){return t}function H(t){if(!W(t))return!1;var e=T(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}const V=S["__core-js_shared__"];var R,B=(R=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",Y=Function.prototype.toString;function Q(t){if(null!=t){try{return Y.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var J=/^\[object .+?Constructor\]$/,Z=Function.prototype,G=Object.prototype,K=Z.toString,X=G.hasOwnProperty,tt=RegExp("^"+K.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function et(t){return!(!W(t)||(e=t,B&&B in e))&&(H(t)?tt:J).test(Q(t));var e}function nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return et(n)?n:void 0}const rt=nt(S,"WeakMap");var it=Object.create,ot=function(){function t(){}return function(e){if(!W(e))return{};if(it)return it(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const st=ot;function at(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ct=Date.now,ut=function(){try{var t=nt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const ft=ut;var lt,ht,dt,pt=ft?function(t,e){return ft(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:q,vt=(lt=pt,ht=0,dt=0,function(){var t=ct(),e=16-(t-dt);if(dt=t,e>0){if(++ht>=800)return arguments[0]}else ht=0;return lt.apply(void 0,arguments)});const gt=vt;var yt=/^(?:0|[1-9]\d*)$/;function bt(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function mt(t,e,n){"__proto__"==e&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function wt(t,e){return t===e||t!=t&&e!=e}var jt=Object.prototype.hasOwnProperty;function _t(t,e,n){var r=t[e];jt.call(t,e)&&wt(r,n)&&(void 0!==n||e in t)||mt(t,e,n)}function $t(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?mt(n,a,c):_t(n,a,c)}return n}var Ot=Math.max;function St(t,e){return gt(function(t,e,n){return e=Ot(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Ot(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),at(t,this,a)}}(t,e,q),t+"")}function Mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function xt(t){return null!=t&&Mt(t.length)&&!H(t)}function Dt(t,e,n){if(!W(n))return!1;var r=typeof e;return!!("number"==r?xt(n)&&bt(e,n.length):"string"==r&&e in n)&&wt(n[e],t)}var Et=Object.prototype;function At(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Et)}function Ct(t){return k(t)&&"[object Arguments]"==T(t)}var Lt=Object.prototype,Tt=Lt.hasOwnProperty,kt=Lt.propertyIsEnumerable,zt=Ct(function(){return arguments}())?Ct:function(t){return k(t)&&Tt.call(t,"callee")&&!kt.call(t,"callee")};const It=zt;var Pt="object"==typeof t&&t&&!t.nodeType&&t,Ut=Pt&&"object"==typeof e&&e&&!e.nodeType&&e,Ft=Ut&&Ut.exports===Pt?S.Buffer:void 0;const Nt=(Ft?Ft.isBuffer:void 0)||function(){return!1};var Wt={};function qt(t){return function(e){return t(e)}}Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Ht="object"==typeof t&&t&&!t.nodeType&&t,Vt=Ht&&"object"==typeof e&&e&&!e.nodeType&&e,Rt=Vt&&Vt.exports===Ht&&$.process;const Bt=function(){try{var t=Vt&&Vt.require&&Vt.require("util").types;return t||Rt&&Rt.binding&&Rt.binding("util")}catch(e){}}();var Yt=Bt&&Bt.isTypedArray;const Qt=Yt?qt(Yt):function(t){return k(t)&&Mt(t.length)&&!!Wt[T(t)]};var Jt=Object.prototype.hasOwnProperty;function Zt(t,e){var n=P(t),r=!n&&It(t),i=!n&&!r&&Nt(t),o=!n&&!r&&!i&&Qt(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var u in t)!e&&!Jt.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bt(u,c))||a.push(u);return a}function Gt(t,e){return function(n){return t(e(n))}}const Kt=Gt(Object.keys,Object);var Xt=Object.prototype.hasOwnProperty;function te(t){if(!At(t))return Kt(t);var e=[];for(var n in Object(t))Xt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ee(t){return xt(t)?Zt(t):te(t)}var ne=Object.prototype.hasOwnProperty;function re(t){if(!W(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=At(t),n=[];for(var r in t)("constructor"!=r||!e&&ne.call(t,r))&&n.push(r);return n}function ie(t){return xt(t)?Zt(t,!0):re(t)}var oe,se=(oe=function(t,e,n,r){$t(e,ie(e),t,r)},St((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=oe.length>3&&"function"==typeof i?(r--,i):void 0,o&&Dt(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=e[n];s&&oe(t,s,n,i)}return t})));const ae=se;var ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/;const fe=nt(Object,"create");var le=Object.prototype.hasOwnProperty,he=Object.prototype.hasOwnProperty;function de(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pe(t,e){for(var n=t.length;n--;)if(wt(t[n][0],e))return n;return-1}de.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},de.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},de.prototype.get=function(t){var e=this.__data__;if(fe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return le.call(e,t)?e[t]:void 0},de.prototype.has=function(t){var e=this.__data__;return fe?void 0!==e[t]:he.call(e,t)},de.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fe&&void 0===e?"__lodash_hash_undefined__":e,this};var ve=Array.prototype.splice;function ge(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(t){var e=this.__data__,n=pe(e,t);return!(n<0||(n==e.length-1?e.pop():ve.call(e,n,1),--this.size,0))},ge.prototype.get=function(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]},ge.prototype.has=function(t){return pe(this.__data__,t)>-1},ge.prototype.set=function(t,e){var n=this.__data__,r=pe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const ye=nt(S,"Map");function be(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function me(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function we(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(we.Cache||me),n}me.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(ye||ge),string:new de}},me.prototype.delete=function(t){var e=be(this,t).delete(t);return this.size-=e?1:0,e},me.prototype.get=function(t){return be(this,t).get(t)},me.prototype.has=function(t){return be(this,t).has(t)},me.prototype.set=function(t,e){var n=be(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},we.Cache=me;var je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,$e=function(t){var e=we(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(je,(function(t,n,r,i){e.push(r?i.replace(_e,"$1"):n||t)})),e}));const Oe=$e;function Se(t){return null==t?"":N(t)}function Me(t,e){return P(t)?t:function(t,e){if(P(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!z(t))||ue.test(t)||!ce.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:Oe(Se(t))}function xe(t){if("string"==typeof t||z(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function De(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}const Ee=Gt(Object.getPrototypeOf,Object);var Ae=Function.prototype,Ce=Object.prototype,Le=Ae.toString,Te=Ce.hasOwnProperty,ke=Le.call(Object);function ze(t){if(!k(t))return!1;var e=T(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!k(t)||"[object Object]"!=T(t))return!1;var e=Ee(t);if(null===e)return!0;var n=Te.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==ke}(t)}var Ie=St((function(t,e){try{return at(t,void 0,e)}catch(n){return ze(n)?n:new Error(n)}}));const Pe=Ie;function Ue(t){var e=this.__data__=new ge(t);this.size=e.size}Ue.prototype.clear=function(){this.__data__=new ge,this.size=0},Ue.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ue.prototype.get=function(t){return this.__data__.get(t)},Ue.prototype.has=function(t){return this.__data__.has(t)},Ue.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ge){var r=n.__data__;if(!ye||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new me(r)}return n.set(t,e),this.size=n.size,this};var Fe="object"==typeof t&&t&&!t.nodeType&&t,Ne=Fe&&"object"==typeof e&&e&&!e.nodeType&&e,We=Ne&&Ne.exports===Fe?S.Buffer:void 0,qe=We?We.allocUnsafe:void 0;function He(){return[]}var Ve=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols,Be=Re?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(Re(t),(function(e){return Ve.call(t,e)})))}:He;const Ye=Be;var Qe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)De(e,Ye(t)),t=Ee(t);return e}:He;const Je=Qe;function Ze(t,e,n){var r=e(t);return P(t)?r:De(r,n(t))}function Ge(t){return Ze(t,ee,Ye)}function Ke(t){return Ze(t,ie,Je)}const Xe=nt(S,"DataView"),tn=nt(S,"Promise"),en=nt(S,"Set");var nn="[object Map]",rn="[object Promise]",on="[object Set]",sn="[object WeakMap]",an="[object DataView]",cn=Q(Xe),un=Q(ye),fn=Q(tn),ln=Q(en),hn=Q(rt),dn=T;(Xe&&dn(new Xe(new ArrayBuffer(1)))!=an||ye&&dn(new ye)!=nn||tn&&dn(tn.resolve())!=rn||en&&dn(new en)!=on||rt&&dn(new rt)!=sn)&&(dn=function(t){var e=T(t),n="[object Object]"==e?t.constructor:void 0,r=n?Q(n):"";if(r)switch(r){case cn:return an;case un:return nn;case fn:return rn;case ln:return on;case hn:return sn}return e});const pn=dn;var vn=Object.prototype.hasOwnProperty;const gn=S.Uint8Array;function yn(t){var e=new t.constructor(t.byteLength);return new gn(e).set(new gn(t)),e}var bn=/\w*$/,mn=M?M.prototype:void 0,wn=mn?mn.valueOf:void 0;function jn(t,e,n){var r,i,o,s=t.constructor;switch(e){case"[object ArrayBuffer]":return yn(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?yn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?yn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(o=new(i=t).constructor(i.source,bn.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=t,wn?Object(wn.call(r)):{}}}var _n=Bt&&Bt.isMap;const $n=_n?qt(_n):function(t){return k(t)&&"[object Map]"==pn(t)};var On=Bt&&Bt.isSet;const Sn=On?qt(On):function(t){return k(t)&&"[object Set]"==pn(t)};var Mn,xn="[object Arguments]",Dn="[object Function]",En="[object Object]",An={};function Cn(t,e,n,r,i,o){var s,a=1&e,c=2&e,u=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!W(t))return t;var f=P(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,s)}else{var l=pn(t),h=l==Dn||"[object GeneratorFunction]"==l;if(Nt(t))return function(t,e){if(e)return t.slice();var n=t.length,r=qe?qe(n):new t.constructor(n);return t.copy(r),r}(t,a);if(l==En||l==xn||h&&!i){if(s=c||h?{}:function(t){return"function"!=typeof t.constructor||At(t)?{}:st(Ee(t))}(t),!a)return c?function(t,e){return $t(t,Je(t),e)}(t,function(t,e){return t&&$t(e,ie(e),t)}(s,t)):function(t,e){return $t(t,Ye(t),e)}(t,function(t,e){return t&&$t(e,ee(e),t)}(s,t))}else{if(!An[l])return i?t:{};s=jn(t,l,a)}}o||(o=new Ue);var d=o.get(t);if(d)return d;o.set(t,s),Sn(t)?t.forEach((function(r){s.add(Cn(r,e,n,r,t,o))})):$n(t)&&t.forEach((function(r,i){s.set(i,Cn(r,e,n,i,t,o))}));var p=f?void 0:(u?c?Ke:Ge:c?ie:ee)(t);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(p||t,(function(r,i){p&&(r=t[i=r]),_t(s,i,Cn(r,e,n,i,t,o))})),s}An[xn]=An["[object Array]"]=An["[object ArrayBuffer]"]=An["[object DataView]"]=An["[object Boolean]"]=An["[object Date]"]=An["[object Float32Array]"]=An["[object Float64Array]"]=An["[object Int8Array]"]=An["[object Int16Array]"]=An["[object Int32Array]"]=An["[object Map]"]=An["[object Number]"]=An[En]=An["[object RegExp]"]=An["[object Set]"]=An["[object String]"]=An["[object Symbol]"]=An["[object Uint8Array]"]=An["[object Uint8ClampedArray]"]=An["[object Uint16Array]"]=An["[object Uint32Array]"]=!0,An["[object Error]"]=An[Dn]=An["[object WeakMap]"]=!1;const Ln=(Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==Mn?void 0:Mn[t]});var Tn=/[&<>"']/g,kn=RegExp(Tn.source),zn=Object.prototype.hasOwnProperty;function In(t,e){return null!=t&&zn.call(t,e)}function Pn(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=Me(e,t)).length,o=!1;++r<i;){var s=xe(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Mt(i)&&bt(s,i)&&(P(t)||It(t))}(t,e,In)}var Un=Object.prototype.hasOwnProperty;function Fn(t){if(null==t)return!0;if(xt(t)&&(P(t)||"string"==typeof t||"function"==typeof t.splice||Nt(t)||Qt(t)||It(t)))return!t.length;var e=pn(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(At(t))return!te(t).length;for(var n in t)if(Un.call(t,n))return!1;return!0}var Nn=Object.prototype,Wn=Nn.hasOwnProperty;function qn(t,e,n,r){return void 0===t||wt(t,Nn[n])&&!Wn.call(r,n)?e:t}var Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Vn(t){return"\\"+Hn[t]}const Rn=/<%=([\s\S]+?)%>/g,Bn={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Rn,variable:"",imports:{_:{escape:function(t){return(t=Se(t))&&kn.test(t)?t.replace(Tn,Ln):t}}}};var Yn=/\b__p \+= '';/g,Qn=/\b(__p \+=) '' \+/g,Jn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zn=/[()=,{}\[\]\/\s]/,Gn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kn=/($^)/,Xn=/['\n\r\u2028\u2029\\]/g,tr=Object.prototype.hasOwnProperty;function er(t,e,n){var r=Bn.imports._.templateSettings||Bn;n&&Dt(t,e,n)&&(e=void 0),t=Se(t),e=ae({},e,r,qn);var i,o,s=ae({},e.imports,r.imports,qn),a=ee(s),c=function(t,e){return I(e,(function(e){return t[e]}))}(s,a),u=0,f=e.interpolate||Kn,l="__p += '",h=RegExp((e.escape||Kn).source+"|"+f.source+"|"+(f===Rn?Gn:Kn).source+"|"+(e.evaluate||Kn).source+"|$","g"),d=tr.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,r,s,a,c){return r||(r=s),l+=t.slice(u,c).replace(Xn,Vn),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e})),l+="';\n";var p=tr.call(e,"variable")&&e.variable;if(p){if(Zn.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(o?l.replace(Yn,""):l).replace(Qn,"$1").replace(Jn,"$1;"),l="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Pe((function(){return Function(a,d+"return "+l).apply(void 0,c)}));if(v.source=l,ze(v))throw v;return v}var nr={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",c="week",u="month",f="quarter",l="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},b={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),o=n-i<0,s=e.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:l,w:c,d:a,D:h,h:s,m:o,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",w={};w[m]=g;var j=function(t){return t instanceof S},_=function t(e,n,r){var i;if(!e)return m;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;w[a]=e,i=a}return!r&&i&&(m=i),i||!r&&m},$=function(t,e){if(j(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},O=b;O.l=_,O.i=j,O.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=_(t.locale,null,!0),this.parse(t)}var y=g.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return O},y.isValid=function(){return!(this.$d.toString()===d)},y.isSame=function(t,e){var n=$(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return $(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<$(t)},y.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!O.u(e)||e,f=O.p(t),d=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},p=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return r?d(1,0):d(31,11);case u:return r?d(1,g):d(0,g+1);case c:var m=this.$locale().weekStart||0,w=(v<m?v+7:v)-m;return d(r?y-w:y+(6-w),g);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case i:return p(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=O.p(t),f="set"+(this.$u?"UTC":""),d=(n={},n[a]=f+"Date",n[h]=f+"Date",n[u]=f+"Month",n[l]=f+"FullYear",n[s]=f+"Hours",n[o]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[c],p=c===a?this.$D+(e-this.$W):e;if(c===u||c===l){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[O.p(t)]()},y.add=function(r,f){var h,d=this;r=Number(r);var p=O.p(f),v=function(t){var e=$(d);return O.w(e.date(e.date()+Math.round(t*r)),d)};if(p===u)return this.set(u,this.$M+r);if(p===l)return this.set(l,this.$y+r);if(p===a)return v(1);if(p===c)return v(7);var g=(h={},h[o]=e,h[s]=n,h[i]=t,h)[p]||1,y=this.$d.getTime()+r*g;return O.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,u=n.months,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},l=function(t){return O.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,"0"),MMM:f(n.monthsShort,a,u,3),MMMM:f(u,a),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:f(n.weekdaysMin,this.$W,c,2),ddd:f(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:O.s(o,2,"0"),h:l(1),hh:l(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:O.s(s,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,h,d){var p,v=O.p(h),g=$(r),y=(g.utcOffset()-this.utcOffset())*e,b=this-g,m=O.m(this,g);return m=(p={},p[l]=m/12,p[u]=m,p[f]=m/3,p[c]=(b-y)/6048e5,p[a]=(b-y)/864e5,p[s]=b/n,p[o]=b/e,p[i]=b/t,p)[v]||b,d?m:O.a(m)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return w[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=_(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return O.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),M=S.prototype;return $.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",u],["$y",l],["$D",h]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,S,$),t.$i=!0),$},$.locale=_,$.isDayjs=j,$.unix=function(t){return $(1e3*t)},$.en=w[m],$.Ls=w,$.p={},$}()}(nr);const rr=i(nr.exports);var ir={exports:{}};!function(t,e){var n,r,i;t.exports=(n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g,function(t,e,o){var s=e.prototype;o.utc=function(t){return new e({date:t,utc:!0,args:arguments})},s.utc=function(t){var e=o(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),n):e},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var c=s.init;s.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(t,e){var o=this.$utils().u;if(o(t))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof t&&(t=function(t){void 0===t&&(t="");var e=t.match(r);if(!e)return null;var n=(""+e[0]).match(i)||["-",0,0],o=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===o?s:-s}(t),null===t))return this;var s=Math.abs(t)<=16?60*t:t,a=this;if(e)return a.$offset=s,a.$u=0===t,a;if(0!==t){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+c,n)).$offset=s,a.$x.$localOffset=c}else a=this.utc();return a};var f=s.format;s.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,e)},s.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var l=s.toDate;s.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var h=s.diff;s.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var r=this.local(),i=o(t).local();return h.call(r,i,e,n)}})}(ir);const or=i(ir.exports);var sr=(t=>(t.COMP="comp",t.CODE="code",t.DATA_SOURCE="data-source",t))(sr||{}),ar=(t=>(t.CODE="code",t))(ar||{});rr.extend(or),t("t",((t="")=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase()));const cr=(t,e=[])=>{const n=[],r=function(t,e){if(!Array.isArray(e))return null;for(let i=0,o=e.length;i<o;i++){const o=e[i];if(n.push(o),`${o.id}`==`${t}`)return o;if(o.items){const e=r(t,o.items);if(e)return e}n.pop()}return null};return r(t,e),n},ur=(t,e=[])=>{const n=[],r=function(t,e){if(Array.isArray(e))for(let i=0,o=e.length;i<o;i++){const o=e[i],s=t.findIndex((t=>`${t}`==`${o.id}`));s>-1&&(t.slice(s,1),n.push(o)),o.items&&r(t,o.items)}};return r(t,e),n},fr=(t,e,n)=>{const r=cr(t.id,e),i=r.pop();let o=r.pop();if(n&&(o=cr(n,e).pop()),!i)throw new Error("未找到目标节点");if(!o)throw new Error("未找到父节点");const s=o.items?.findIndex((t=>t.id===i.id));o.items.splice(s,1,t)},lr=(t,e,n={},r)=>{let i=[];return i=r?n[r]?.[e.id].keys||[]:((t={},e)=>Array.from(Object.values(t).reduce(((t,n)=>((n[e]?.keys||[]).forEach((e=>t.add(e))),t)),new Set)))(n,e.id),i.forEach((n=>{const r=`${n}`.split("."),i=r.length;r.reduce(((e,n,r)=>{if(i-1===r){const r=`__magic__${n}`;void 0===e[r]&&(e[r]=e[n]);try{e[n]=t(e[r])}catch(o){console.error(o),e[n]=""}return e}return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)?e[n]:{}}),e)})),Array.isArray(e.items)&&e.items.forEach((e=>lr(t,e,n))),e},hr=t=>{const e={},n={string:"",object:{},array:[],boolean:!1,number:0,null:null,any:void 0};return t.forEach((t=>{void 0!==t.defaultValue?e[t.name]=t.defaultValue:"object"===t.type?e[t.name]=t.fields?hr(t.fields):{}:t.type?e[t.name]=n[t.type]:e[t.name]=void 0})),e};class dr extends _{type="base";id;isInit=!1;data={};fields=[];methods=[];constructor(t){super(),this.id=t.schema.id,this.setFields(t.schema.fields),this.setMethods(t.schema.methods||[]),this.updateDefaultData()}setFields(t){this.fields=t}setMethods(t){this.methods=t}getMethods(){return this.methods}setData(t){this.data=t,this.emit("change")}getDefaultData(){return hr(this.fields)}updateDefaultData(){this.setData(this.getDefaultData())}async init(){this.isInit=!0}destroy(){this.data={},this.fields=[],this.removeAllListeners()}}const pr=t=>Object.entries(t).reduce(((t,[e,n])=>{let r=n;return"object"==typeof n&&(r=JSON.stringify(n)),void 0!==n?`${t}${t?"&":""}${globalThis.encodeURIComponent(e)}=${globalThis.encodeURIComponent(`${r}`)}`:t}),""),vr=async t=>{const{url:e,method:n="GET",headers:r={},params:i={},data:o={},...s}=t,a=pr(i);let c=JSON.stringify(o);return r["Content-Type"]?.includes("application/x-www-form-urlencoded")&&(c=pr(o)),(await globalThis.fetch(a?`${e}?${a}`:e,{method:n,headers:r,body:"GET"===n?void 0:c,...s})).json()};class gr extends dr{type="http";isLoading=!1;error;schema;httpOptions;fetch;constructor(t){const{options:e,...n}=t.schema;super({schema:n}),this.schema=t.schema,this.httpOptions=e,"function"==typeof t.request?this.fetch=t.request:"function"==typeof globalThis.fetch&&(this.fetch=vr)}async init(){this.schema.autoFetch&&await this.request(this.httpOptions),super.init()}async request(t){const e=await(this.fetch?.({...this.httpOptions,...t}));if(this.schema.responseOptions?.dataPath){const t=((t,e)=>{const n=t.split("."),r=n.length;return n.reduce(((t,e,n)=>"[object Object]"===Object.prototype.toString.call(t)||Array.isArray(t)?t[e]:r-1!==n?{}:void 0),e)})(this.schema.responseOptions.dataPath,e);this.setData(t)}else this.setData(e)}get(t){return this.request({...t,method:"GET"})}post(t){return this.request({...t,method:"POST"})}}class yr extends _{static dataSourceClassMap=new Map;static registe(t,e){yr.dataSourceClassMap.set(t,e)}dataSourceMap=new Map;data={};request;constructor(t){super(),t.httpDataSourceOptions?.request&&(this.request=t.httpDataSourceOptions.request),t.dataSourceConfigs.forEach((t=>{this.addDataSource(t)}))}get(t){return this.dataSourceMap.get(t)}addDataSource(t){if(!t)return;let e;if("http"===t.type)e=new gr({schema:t,request:this.request});else{const n=yr.dataSourceClassMap.get(t.type)||dr;e=new n({schema:t})}this.dataSourceMap.set(t.id,e),this.data[e.id]=e.data,e.init().then((()=>{this.data[e.id]=e.data})),e.on("change",(()=>{Object.assign(this.data[e.id],e.data),this.emit("change",e.id)}))}removeDataSource(t){this.get(t)?.destroy(),delete this.data[t],this.dataSourceMap.delete(t)}updateSchema(t){t.forEach((t=>{const e=this.dataSourceMap.get(t.id);e&&(e.setFields(t.fields),e.updateDefaultData(),this.data[e.id]=e.data)}))}destroy(){this.removeAllListeners(),this.data={},this.dataSourceMap.forEach((t=>{t.destroy()})),this.dataSourceMap=new Map}}const br=yr,mr=(t,e=((t,e)=>t),n)=>{if(!t?.dataSources)return;const r=new br({dataSourceConfigs:t.dataSources,httpDataSourceOptions:n});return t.dataSources&&t.dataSourceDeps&&ur(((t={})=>Array.from(Object.values(t).reduce(((t,e)=>(Object.keys(e).forEach((e=>{t.add(e)})),t)),new Set)))(t.dataSourceDeps),t.items).forEach((n=>{fr(e(n,r.data),t.items)})),r.on("change",(e=>{const n=t.dataSourceDeps?.[e];n&&r.emit("update-data",ur(Object.keys(n),t.items),e)})),r},wr=class{isIos=!1;isIphone=!1;isIpad=!1;isAndroid=!1;isAndroidPad=!1;isMac=!1;isWin=!1;isMqq=!1;isWechat=!1;isWeb=!1;constructor(t=globalThis.navigator.userAgent,e={}){this.isIphone=t.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(t),this.isIos=this.isIphone||this.isIpad,this.isAndroid=t.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&t.indexOf("Mobile")<0,this.isMac=t.indexOf("Macintosh")>=0,this.isWin=t.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(t),this.isWechat=t.indexOf("MicroMessenger")>=0&&t.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(t),Object.entries(e).forEach((([t,e])=>{this[t]=e}))}},jr="magic:common:events:",_r="magic:common:actions:",$r="show",Or="hide",Sr="scrollIntoView",Mr="scrollToTop",xr=(t,e)=>{if(!t)return!1;if(!t.id)return xr(t.parentElement,e);const n=e.page?.getNode(t.id);return n||!1},Dr=(t,e,n)=>{const r=xr(n.target,t);var i;r&&t.emit((i=e).startsWith(jr)?i:`magic:common:events:${i}`,r)};class Er{data={};set(t,e){this.data[t]=e}get(t){return this.data[t]}}class Ar extends j.EventEmitter{data;style;events;instance;page;parent;app;store=new Er;constructor(t){super(),this.page=t.page,this.parent=t.parent,this.app=t.app;const{events:e}=t.config;this.data=t.config,this.events=e||[],this.listenLifeSafe(),this.once("destroy",(()=>{this.instance=null,"function"==typeof this.data.destroy&&this.data.destroy(this),this.listenLifeSafe()}))}setData(t){this.data=t,this.emit("updata-data")}destroy(){this.removeAllListeners()}listenLifeSafe(){this.once("created",(async t=>{this.instance=t,await this.runCodeBlock("created")})),this.once("mounted",(async t=>{this.instance=t;const e=this.app.eventQueueMap[t.config.id]||[];for(let n=e.shift();n;n=e.shift())this.app.compActionHandler(n.eventConfig,n.fromCpt,n.args);await this.runCodeBlock("mounted")}))}async runCodeBlock(t){if("function"!=typeof this.data[t]){if(this.data[t]?.hookType===ar.CODE&&!Fn(this.app.codeDsl))for(const e of this.data[t].hookData){const{codeId:t,params:n={}}=e,r=this.app.codeDsl?.[t]?.content;"function"==typeof r&&await r({app:this.app,params:n})}}else await this.data[t](this)}}const Cr=Ar,Lr=class extends Cr{nodes=new Map;constructor(t){super(t),this.setNode(t.config.id,this),this.initNode(t.config,this)}initNode(t,e){const n=new Cr({config:t,parent:e,page:this,app:this.app});this.setNode(t.id,n),t.items?.forEach((t=>{this.initNode(t,n)}))}getNode(t){return this.nodes.get(t)}setNode(t,e){this.nodes.set(t,e)}deleteNode(t){this.nodes.delete(t)}destroy(){super.destroy(),this.nodes.clear()}};class Tr extends j.EventEmitter{env=new wr;dsl;codeDsl;dataSourceManager;page;platform="mobile";jsEngine="browser";designWidth=375;components=new Map;eventQueueMap={};eventList=new Map;constructor(t){var e;super(),this.setEnv(t.ua),this.codeDsl=t.config?.codeBlocks,t.platform&&(this.platform=t.platform),t.jsEngine&&(this.jsEngine=t.jsEngine),void 0!==t.designWidth&&this.setDesignWidth(t.designWidth),t.transformStyle&&(this.transformStyle=t.transformStyle),t.config&&this.setConfig(t.config,t.curPage,t.request),"browser"===(e=this).jsEngine&&(window.document.body.addEventListener("click",(t=>{Dr(e,"click",t)})),window.document.body.addEventListener("click",(t=>{Dr(e,"click:capture",t)}),!0))}setEnv(t){this.env=new wr(t)}setDesignWidth(t){this.designWidth=t,"browser"===this.jsEngine&&(this.calcFontsize(),globalThis.removeEventListener("resize",this.calcFontsize),globalThis.addEventListener("resize",this.calcFontsize))}transformStyle(t){if(!t)return{};let e={};const n={};e="string"==typeof t?(t=>{if("string"!=typeof t)return t;const e={};return t.split(";").forEach((t=>{if(!t)return;const n=t.split(":");let r=n.shift(),i=n.join(":");r&&(r=r.replace(/^\s*/,"").replace(/\s*$/,""),i=i.replace(/^\s*/,"").replace(/\s*$/,""),r=r.split("-").map(((t,e)=>e>0?`${t[0].toUpperCase()}${t.substr(1)}`:t)).join(""),e[r]=i)})),e})(t):{...t};const r="hippy"===this.jsEngine,i=["zIndex","opacity","fontWeight"];return Object.entries(e).forEach((([t,e])=>{"scale"===t&&!n.transform&&r?n.transform=[{scale:e}]:"backgroundImage"!==t||r?"transform"===t&&"string"!=typeof e?n[t]=this.getTransform(e):!i.includes(t)&&e&&/^[-]?[0-9]*[.]?[0-9]*$/.test(e)?n[t]=r?e:e/100+"rem":n[t]=e:e&&(n[t]=(t=>!t||/^url/.test(t)||/^linear-gradient/.test(t)?t:`url(${t})`)(e))})),n}setConfig(t,e,n){this.dsl=t,!e&&t.items.length&&(e=t.items[0].id),this.dataSourceManager&&this.dataSourceManager.destroy(),this.dataSourceManager=mr(t,((t,e)=>this.compiledNode(t,e)),{request:n}),this.codeDsl=t.codeBlocks,this.setPage(e||this.page?.data?.id)}addPage(){console.info("addPage 已经弃用")}setPage(t){const e=this.dsl?.items.find((e=>e.id===t));if(!e)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change");e!==this.page?.data&&(this.page&&this.page.destroy(),this.page=new Lr({config:e,app:this}),super.emit("page-change",this.page),this.bindEvents())}deletePage(){this.page=void 0}getPage(t){return t?this.page?.data.id===t?this.page:void 0:this.page}registerComponent(t,e){this.components.set(t,e)}unregisterComponent(t){this.components.delete(t)}resolveComponent(t){return this.components.get(t)}bindEvents(){if(Array.from(this.eventList.keys()).forEach((t=>{const e=this.eventList.get(t);e&&this.off(e,t)})),this.eventList.clear(),this.page)for(const[,t]of this.page.nodes)t.events?.forEach((e=>{const n=`${e.name}_${t.data.id}`,r=(t,...n)=>{this.eventHandler(e,t,n)};this.eventList.set(r,n),this.on(n,r)}))}emit(t,e,...n){return e?.data?.id?super.emit(`${String(t)}_${e.data.id}`,e,...n):super.emit(t,e,...n)}async codeActionHandler(t){const{codeId:e="",params:n={}}=t;e&&!Fn(this.codeDsl)&&this.codeDsl[e]&&"function"==typeof this.codeDsl[e]?.content&&await this.codeDsl[e].content({app:this,params:n})}async compActionHandler(t,e,n){if(!this.page)throw new Error("当前没有页面");const{method:r,to:i}=t,o=this.page.getNode(i);if(!o)throw`ID为${i}的组件不存在`;if((t=>t.startsWith(_r))(r))return((t,e)=>{const{instance:n}=e;if(n)switch(t.replace(_r,"")){case $r:n.show();break;case Or:n.hide();break;case Sr:n.$el?.scrollIntoView({behavior:"smooth"});break;case Mr:window.scrollTo({top:0,behavior:"smooth"})}})(r,o);o.instance?"function"==typeof o.instance[r]&&await o.instance[r](e,...n):this.addEventToMap({eventConfig:t,fromCpt:e,args:n})}async dataSourceActionHandler(t){const{dataSourceMethod:e=[],params:n={}}=t,[r,i]=e;if(!r||!i)return;const o=this.dataSourceManager?.get(r);if(!o)return;const s=(o.getMethods()||[]).find((t=>t.name===i));s&&"function"==typeof s.content&&await s.content({app:this,params:n,dataSource:o})}compiledNode(t,e,n){return lr((t=>"string"==typeof t?er(t)(e):t?.isBindDataSource&&t.dataSourceId?e[t.dataSourceId]:t),Cn(t,5),this.dsl?.dataSourceDeps,n)}destroy(){this.removeAllListeners(),this.page=void 0,"browser"===this.jsEngine&&globalThis.removeEventListener("resize",this.calcFontsize)}async eventHandler(t,e,n){if(Pn(t,"actions")){const{actions:r}=t;for(const t of r)t.actionType===sr.COMP?await this.compActionHandler(t,e,n):t.actionType===sr.CODE?await this.codeActionHandler(t):t.actionType===sr.DATA_SOURCE&&await this.dataSourceActionHandler(t)}else await this.compActionHandler(t,e,n)}addEventToMap(t){this.eventQueueMap[t.eventConfig.to]?this.eventQueueMap[t.eventConfig.to].push(t):this.eventQueueMap[t.eventConfig.to]=[t]}getTransform(t){if(!t)return[];const e=Object.entries(t).map((([t,e])=>e.trim()?("rotate"===t&&(t=>/^(-?\d+)(\.\d+)?$/.test(t))(e)&&(e=`${e}deg`),"hippy"!==this.jsEngine?`${t}(${e})`:{[t]:e}):""));if("hippy"===this.jsEngine)return e;const n=e.join(" ");return n.trim()?n:"none"}calcFontsize(){const{width:t}=document.documentElement.getBoundingClientRect(),e=t/(this.designWidth/100);document.documentElement.style.fontSize=`${e}px`}}const kr=Tr,zr=Vue.defineComponent({__name:"App",setup(t){const e=Vue.inject("app"),n=Vue.ref(),r=Vue.ref(),i=Vue.ref(),o=Vue.computed((()=>n.value?.items?.find((t=>t.id===r.value))||n.value?.items?.[0]));return Vue.watch(o,(async()=>{await Vue.nextTick();const t=document.querySelector(".magic-ui-page");t&&window.magic.onPageElUpdate(t)})),window.magic?.onRuntimeReady({getApp:()=>e,updateRootConfig(t){n.value=t,e?.setConfig(t,r.value)},updatePageId(t){r.value=t,e?.setPage(t)},select(t){i.value=t,e?.getPage(t)&&this.updatePageId?.(t);const n=document.getElementById(`${t}`);return n||Vue.nextTick().then((()=>document.getElementById(`${t}`)))},add({config:t,parentId:r}){if(!n.value)throw new Error("error");if(!i.value)throw new Error("error");if(!r)throw new Error("error");const o=cr(r,[n.value]).pop();if(!o)throw new Error("未找到父节点");if("page"!==t.type){const n=e?.page?.getNode(o.id);n&&e?.page?.initNode(t,n)}if(o.id!==i.value){const e=o.items?.findIndex((t=>t.id===i.value));o.items?.splice(e+1,0,t)}else o.items?.push(t)},update({config:t,parentId:r}){if(!n.value||!e)throw new Error("error");const i=e.compiledNode(t,e.dataSourceManager?.data||{});fr(Vue.reactive(i),[n.value],r);const o=e.page?.getNode(t.id);o&&o.setData(t)},remove({id:t,parentId:r}){if(!n.value)throw new Error("error");const i=cr(t,[n.value]).pop();if(!i)throw new Error("未找到目标元素");const o=cr(r,[n.value]).pop();if(!o)throw new Error("未找到父元素");"page"===i.type?e?.deletePage():e?.page?.deleteNode(i.id);const s=o.items?.findIndex((t=>t.id===i.id));o.items.splice(s,1)}}),(t,e)=>{const n=Vue.resolveComponent("magic-ui-page");return o.value?(Vue.openBlock(),Vue.createBlock(n,{key:o.value.id,config:o.value},null,8,["config"])):Vue.createCommentVNode("",!0)}}});Promise.all([r((()=>e.import("./comp-entry-legacy-484d94ea.js"))),r((()=>e.import("./plugin-entry-legacy-2e36e49d.js")))]).then((([t,e])=>{const n=Vue.createApp(zr);Object.entries(t.default).forEach((([t,e])=>{n.component(`magic-ui-${t}`,e)})),Object.values(e.default).forEach((t=>{n.use(t)}));const r=new kr({ua:window.navigator.userAgent,platform:"editor"});r.env.isWeb&&r.setDesignWidth(window.document.documentElement.getBoundingClientRect().width),window.appInstance=r,n.config.globalProperties.app=r,n.provide("app",r),n.mount("#app")}))}}}));
//# sourceMappingURL=index-legacy-11b9e309.js.map
